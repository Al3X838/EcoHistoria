{% extends "base.html" %}

{% block title %}{{ _('Iniciar SesiÃ³n') }} - UCA Verde{% endblock %}

{% block content %}
<div class="auth-wrapper">
    <div class="auth-background">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>

    <div class="auth-container">
        <div class="auth-card glass-effect">
            <div class="auth-header">
                <div class="auth-logo-wrapper">
                    <div class="auth-logo">ðŸŒ±</div>
                </div>
                <h1>{{ _('Bienvenido') }}</h1>
                <p class="auth-subtitle">{{ _('Ingresa a tu cuenta para continuar') }}</p>
            </div>

            <form method="POST" class="auth-form">
                {{ form.hidden_tag() }}

                <div class="form-group">
                    <label for="username">{{ _('Usuario') }}</label>
                    <div class="input-wrapper">
                        <span class="input-icon">ðŸ‘¤</span>
                        {{ form.username(class="form-control", placeholder=_('Tu nombre de usuario')) }}
                    </div>
                    {% if form.username.errors %}
                    <span class="form-error">{{ form.username.errors[0] }}</span>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="password">{{ _('ContraseÃ±a') }}</label>
                    <div class="input-wrapper">
                        <span class="input-icon">ðŸ”’</span>
                        {{ form.password(class="form-control", placeholder=_('Tu contraseÃ±a')) }}
                    </div>
                    {% if form.password.errors %}
                    <span class="form-error">{{ form.password.errors[0] }}</span>
                    {% endif %}
                    <div class="text-right mt-2">
                        <a href="{{ url_for('auth.reset_request') }}" class="forgot-link">{{ _('Â¿Olvidaste tu
                            contraseÃ±a?') }}</a>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary btn-block btn-lg">
                    {{ _('Iniciar SesiÃ³n') }}
                    <span class="btn-icon">âžœ</span>
                </button>
            </form>





            <div class="auth-footer-styled">
                <p>{{ _('Â¿AÃºn no tienes cuenta?') }}</p>
                <a href="{{ url_for('auth.register') }}" class="register-btn">
                    {{ _('Crear Cuenta Nueva') }}
                </a>
            </div>

            <script>
                function fillCredentials(username, password) {
                    const userInput = document.querySelector('input[name="username"]');
                    const passInput = document.querySelector('input[name="password"]');

                    userInput.value = username;
                    passInput.value = password;

                    // Visual feedback
                    userInput.parentElement.classList.add('filled');
                    passInput.parentElement.classList.add('filled');
                    setTimeout(() => {
                        userInput.parentElement.classList.remove('filled');
                        passInput.parentElement.classList.remove('filled');
                    }, 500);
                }
            </script>
        </div>
    </div>
</div>
{% endblock %}