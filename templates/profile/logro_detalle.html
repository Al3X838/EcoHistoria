{% extends "base.html" %}

{% block title %}{{ logro.nombre }} - Logro UCA Verde{% endblock %}

{% block content %}
<div class="container logro-detalle-container">
    <div class="card logro-card-detalle">
        <div class="logro-icon-detalle">{{ logro.icono }}</div>
        <h1 class="logro-nombre-detalle">{{ logro.nombre }}</h1>
        <p class="logro-descripcion-detalle">{{ logro.descripcion }}</p>
        <div class="logro-categoria-detalle">{{ logro.categoria }}</div>

        <hr class="logro-divider">

        <h3 class="share-title">Â¡Comparte tu logro!</h3>
        <div class="share-buttons">
            <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.url }}" target="_blank"
                class="share-btn facebook">
                <span>ğŸ“˜</span> Facebook
            </a>
            <a href="https://twitter.com/intent/tweet?url={{ request.url }}&text=Â¡He desbloqueado el logro '{{ logro.nombre }}' en UCA Puntos Verdes! ğŸŒ±"
                target="_blank" class="share-btn twitter">
                <span>ğŸ¦</span> Twitter
            </a>
            <a href="whatsapp://send?text=Â¡He desbloqueado el logro '{{ logro.nombre }}' en UCA Puntos Verdes! ğŸŒ± {{ request.url }}"
                data-action="share/whatsapp/share" class="share-btn whatsapp">
                <span>ğŸ’¬</span> WhatsApp
            </a>
            <button onclick="copyToClipboard()" class="share-btn copy-link"
                style="background-color: #6b7280; border: none; cursor: pointer;">
                <span>ğŸ”—</span> Copiar Enlace
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    function copyToClipboard() {
        const url = window.location.href;
        navigator.clipboard.writeText(url).then(() => {
            if (typeof showMessage === 'function') {
                showMessage('Â¡Enlace copiado al portapapeles!', 'success');
            } else {
                alert('Â¡Enlace copiado!');
            }
        }).catch(err => {
            console.error('Error al copiar:', err);
            alert('No se pudo copiar el enlace');
        });
    }
</script>
{% endblock %}